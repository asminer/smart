#!/bin/csh

#
# $Id$
#
# Builds the appropriate version of SMART
#

if ( $HOSTTYPE == sun4 ) then 
  echo Running make for sparc-SunOS
  cd ../sparc-SunOS
  gmake makefile 
  if ( $1 == gdb ) then
    gmake MOREFLAGS=-g ${2} ${3} ${4} ${5}
  else
    gmake MOREFLAGS=-O3 ${1} ${2} ${3} ${4} ${5}
  endif
else if ( $HOSTTYPE == sun4 ) then 
  echo Running make for sun4m-SunOS
  cd ../sun4m-SunOS
  gmake makefile 
  if ( $1 == gdb ) then
    gmake MOREFLAGS=-g ${2} ${3} ${4} ${5}
  else
    gmake MOREFLAGS=-O ${1} ${2} ${3} ${4} ${5}
  endif
else if ( $HOSTTYPE == "i386-linux" ) then 
  echo Running make for i386-linux
  cd ../i386-linux
  make makefile 
  if ( $1 == gdb ) then
    make MOREFLAGS="-g -DDEVELOPMENT_CODE" ${2} ${3} ${4} ${5}
  else
    make MOREFLAGS=-O3 ${1} ${2} ${3} ${4} ${5}
  endif
else if ( $HOSTTYPE == "i386-solaris" ) then
  echo Running make for i386-solaris
  cd ../i386-solaris
  make makefile
  if ( $1 == gdb ) then
    make MOREFLAGS="-g -DDEVELOPMENT_CODE" ${2} ${3} ${4} ${5}
  else
    make MOREFLAGS=-O3 ${1} ${2} ${3} ${4} ${5}
  endif
else if ( $HOSTTYPE == "macintosh" ) then
  echo Running make for macintosh
  cd ../macintosh
  make makefile
  if ( $1 == gdb ) then
    make MOREFLAGS="-g -DDEVELOPMENT_CODE" ${2} ${3} ${4} ${5}
  else
    make MOREFLAGS=-O3 ${1} ${2} ${3} ${4} ${5}
  endif
else 
  echo Running generic make
  cd ../generic
  make makefile
  if ( $1 == gdb ) then
    make MOREFLAGS="-g -DDEVELOPMENT_CODE" ${2} ${3} ${4} ${5}
  else
    make MOREFLAGS=-O3 ${1} ${2} ${3} ${4} ${5}
  endif
endif
	
echo "Done"    


